{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-12-08-CustomRoute/","result":{"data":{"markdownRemark":{"html":"<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 620px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABqUlEQVQ4y4WTv0oDQRDG7y4BIVGLdNoKtjGBNDbaKygoihay24qlTdREhIg+g4VYqIhYaJlY5w20uHuU28bf3k0um8upBx/z52a+ndmd8Tzn01GcSBUZT4ex6w8s3DgVmlQX+etnycaJZgXiBcdeBM3M/o9M28oiE4i+DW5J6iE3IN5E9qjshkO35PBAFZFap46yFkrS1gW+ipC/gdeUJJ7l37kQlvP5E20ifcd3BvkO8oTgd/CR6GG8C2HbifNHpPkq5UdcJfkYPJHcRz6DVQuV6gPwaGPIqeYL8fLs6F0qW6O1eQL76E2Ih1Q1xNdIfJGZA8SYrnv/XtFr2UeAtGkvPKkmNHX0b/QvCOsQD7BL2A3irouKEkfsy6XX0E8huifpk+Q7ZAu7pa0eJi0/ABtTk+qKWx6RZq1HRkHYsQ8iD9PFf4TvymnVd5ci61/JZnBfZbnoNskVqfpFydiQOKNkbLSMTZqfa1kns5Ss1Giw9zjEVtnh3yGE+xBZ+xL9QGJKyQw6a1qwLfF4XyOzDpbHh8ZL8rpTa/rnHk/cR9pyoKXyqWXItfoDBZeGN76EDfMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"React\" title=\"React\" src=\"/static/580ffd26ccaa16481ed87c1829c74943/2a195/React.png\" srcset=\"/static/580ffd26ccaa16481ed87c1829c74943/158c9/React.png 155w,\n/static/580ffd26ccaa16481ed87c1829c74943/5fad2/React.png 310w,\n/static/580ffd26ccaa16481ed87c1829c74943/2a195/React.png 620w,\n/static/580ffd26ccaa16481ed87c1829c74943/416ee/React.png 930w,\n/static/580ffd26ccaa16481ed87c1829c74943/c1b63/React.png 1200w\" sizes=\"(max-width: 620px) 100vw, 620px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>이 포스트는 localStorage를 이용한 로그인을 사용하였고, 로그인 상태면 localStorage에 <code class=\"language-text\">isLogin key</code>값에 <code class=\"language-text\">true</code>를 저장하고, 로그아웃 상태면 <code class=\"language-text\">false</code>를 저장하도록 했습니다. 자 이제 AUTHROUTE라는 js파일을 만들어 봅시다. 저는 로그인 상태일 경우, MyPage로 들어갈 수 있고, 로그아웃 상태일경우 로그인화면으로 <code class=\"language-text\">ReDirect</code> 시켜 주도록 만들었습니다.</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/API/Window/localStorage\">localStorage를 모르신다면?</a></p>\n<ul>\n<li>AuthRoute.js</li>\n</ul>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 620px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 73.7948084054388%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAABmklEQVQ4y51TW3LjIBD0OWQE4ilAD8t2dpNUJbn/rToNkVPyJl7v5qM9GJhmZrq1exhOmJ5fMR+esCy/cFxmpNCjNwHBaEaN5AySt3Bct20LKeVN7JR2cN4h5ggfe5g+w/cJ1jhYaxFCgLcGplPoiLuENowYcsY8RaTo4QKJhwmaZNoFuD5Caw0h2rtklTCwQk8IIdA0DeMeYr+vyW0r6v53RB/nX7GT/DFjgpsGGOehug5yc6Emr5CbeLPCjgSG7Q3n31ie35DnI+Jyxng8IQ+ZszSwuqttl7uXtVLqhig8qIeETwOmxxfMj6+YpoxxjIgUbCgK81FTVLe6PlJyPjvYtlwOysslFlUdLePnGSr4Or8KXhRrgrgxuy+El5KVbOFyQjgsCFQ7HR5gqfxAL0bCRdqKcLSXSyN8XsFClOquCS/tl9bqf+532nAcjEoSqu5V4T7X+iOuM70iLLHgui3x1xa/bVmvVfyLce8a+88Zbo37I0LJ2TT8Mqqa+6Zia4f/Jpz7Ced0wpgOGJ/e6MEXaPqszO4nFb4DnOmeLSJ0++AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"AuthRoute\" title=\"AuthRoute\" src=\"/static/b3cc86d7d07280fa8ad3f964e4d22052/2a195/AuthRoute.png\" srcset=\"/static/b3cc86d7d07280fa8ad3f964e4d22052/158c9/AuthRoute.png 155w,\n/static/b3cc86d7d07280fa8ad3f964e4d22052/5fad2/AuthRoute.png 310w,\n/static/b3cc86d7d07280fa8ad3f964e4d22052/2a195/AuthRoute.png 620w,\n/static/b3cc86d7d07280fa8ad3f964e4d22052/e80ac/AuthRoute.png 809w\" sizes=\"(max-width: 620px) 100vw, 620px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>AuthRoute를 만들어주고, 라우팅을 해주도록 하겠습니다.\nApp.js에서</p>\n<ul>\n<li>App.js</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;AuthRoute path=&#39;/purchase&#39;&gt;\n              &lt;PurchaseList/&gt;\n            &lt;/AuthRoute&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>AuthRoute를 선언해준 뒤에</p>\n<ul>\n<li>Home.js</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;li&gt;&lt;Link to=&#39;/purchase&#39;&gt;구매목록&lt;/Link&gt;&lt;/li&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>링크 path를 설정해줍니다. 그후 PurchaseList라는 컴포넌트를 만들어 주어야 합니다. 이 컴포넌트는 로그인 상태일시에 들어갈수있는 페이지라고 생각하시면 됩니다. 아무 컴포넌트나 만들어서 넣어주시면 됩니다. 그럼 이제 경로가 <code class=\"language-text\">/purchase</code>이면, <code class=\"language-text\">PurchaseList</code>라고 설정해둔 컴포넌트로 라우팅합니다.</p>\n<p>끝났습니다. 이제 AuthRoute를 살펴보겠습니다.</p>\n<p>AuthRoute의 prop을 통해 <code class=\"language-text\">chiledren</code>과 <code class=\"language-text\">...rest</code>를 받습니다. 여기서 <code class=\"language-text\">chiledern</code>을 통해서 <code class=\"language-text\">App.js</code>에 설정해놓은 <code class=\"language-text\">PurchaseList</code> 컴포넌트를 받아와서 삼항연산자를 사용해 그대로<br>\n<code class=\"language-text\">localStorage</code>에 있는 <code class=\"language-text\">isLogin</code>의 값이 <code class=\"language-text\">ture</code>면 받아온 컴포넌트 <code class=\"language-text\">PurchaseList</code>를 렌더링 해줍니다. 만약 <code class=\"language-text\">isLogin</code>의 값이 <code class=\"language-text\">false</code>면 <code class=\"language-text\">Redirect</code>로 다시 <code class=\"language-text\">/login</code> 페이지로 이동됩니다. 여기서 <code class=\"language-text\">state</code> 옵션에 <code class=\"language-text\">location</code>을 넘겨주었는데, 이것은 로그인 성공시 다시 현재 페이지로 돌아오기 위함입니다.</p>\n<p>이 포스팅은 <a href=\"https://reacttraining.com/react-router/web/example/auth-workflow\">공식문서</a>를 참고하면서 적용하였습니다.</p>","frontmatter":{"title":"React Router로 사용자 로그인, 로그아웃을 다뤄보자","date":"December 08, 2019"},"id":"cc3cfbcc-abd6-5905-a97b-5db52282b501"},"site":{"siteMetadata":{"title":"YoungGyu Blog","siteUrl":"http://answer.netlify.app","comment":{"disqusShortName":"lyg"}}}},"pageContext":{"slug":"/2019-12-08-CustomRoute/","previous":{"fields":{"slug":"/2019-12-01-State_Library_Basics/"},"frontmatter":{"title":"상태관리 라이브러리, Context API 기본 이해하기","tag":["Posts"],"layout":null}},"next":{"fields":{"slug":"/2019-12-15-algorithm/"},"frontmatter":{"title":"알고리즘 공부 어떻게 해야할까?","tag":["Posts"],"layout":null}}}},"staticQueryHashes":["3668704128"]}