{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-12-08-CustomRoute/","result":{"data":{"markdownRemark":{"html":"<img src='/assets/images/React.png' width='300px' height='300px'/>\n<p>이 포스트는 localStorage를 이용한 로그인을 사용하였고, 로그인 상태면 localStorage에 <code class=\"language-text\">isLogin key</code>값에 <code class=\"language-text\">true</code>를 저장하고, 로그아웃 상태면 <code class=\"language-text\">false</code>를 저장하도록 했습니다. 자 이제 AUTHROUTE라는 js파일을 만들어 봅시다. 저는 로그인 상태일 경우, MyPage로 들어갈 수 있고, 로그아웃 상태일경우 로그인화면으로 <code class=\"language-text\">ReDirect</code> 시켜 주도록 만들었습니다.</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/API/Window/localStorage\">localStorage를 모르신다면?</a></p>\n<ul>\n<li>AuthRoute.js</li>\n</ul>\n<img src='/assets/images/AuthRoute.PNG'/>\n<p>AuthRoute를 만들어주고, 라우팅을 해주도록 하겠습니다.\nApp.js에서</p>\n<ul>\n<li>App.js</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;AuthRoute path=&#39;/purchase&#39;&gt;\n              &lt;PurchaseList/&gt;\n            &lt;/AuthRoute&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>AuthRoute를 선언해준 뒤에</p>\n<ul>\n<li>Home.js</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;li&gt;&lt;Link to=&#39;/purchase&#39;&gt;구매목록&lt;/Link&gt;&lt;/li&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>링크 path를 설정해줍니다. 그후 PurchaseList라는 컴포넌트를 만들어 주어야 합니다. 이 컴포넌트는 로그인 상태일시에 들어갈수있는 페이지라고 생각하시면 됩니다. 아무 컴포넌트나 만들어서 넣어주시면 됩니다. 그럼 이제 경로가 <code class=\"language-text\">/purchase</code>이면, <code class=\"language-text\">PurchaseList</code>라고 설정해둔 컴포넌트로 라우팅합니다.</p>\n<p>끝났습니다. 이제 AuthRoute를 살펴보겠습니다.</p>\n<p>AuthRoute의 prop을 통해 <code class=\"language-text\">chiledren</code>과 <code class=\"language-text\">...rest</code>를 받습니다. 여기서 <code class=\"language-text\">chiledern</code>을 통해서 <code class=\"language-text\">App.js</code>에 설정해놓은 <code class=\"language-text\">PurchaseList</code> 컴포넌트를 받아와서 삼항연산자를 사용해 그대로<br>\n<code class=\"language-text\">localStorage</code>에 있는 <code class=\"language-text\">isLogin</code>의 값이 <code class=\"language-text\">ture</code>면 받아온 컴포넌트 <code class=\"language-text\">PurchaseList</code>를 렌더링 해줍니다. 만약 <code class=\"language-text\">isLogin</code>의 값이 <code class=\"language-text\">false</code>면 <code class=\"language-text\">Redirect</code>로 다시 <code class=\"language-text\">/login</code> 페이지로 이동됩니다. 여기서 <code class=\"language-text\">state</code> 옵션에 <code class=\"language-text\">location</code>을 넘겨주었는데, 이것은 로그인 성공시 다시 현재 페이지로 돌아오기 위함입니다.</p>\n<p>이 포스팅은 <a href=\"https://reacttraining.com/react-router/web/example/auth-workflow\">공식문서</a>를 참고하면서 적용하였습니다.</p>","frontmatter":{"title":"React Router로 사용자 로그인, 로그아웃을 다뤄보자","date":"December 08, 2019"},"id":"cc3cfbcc-abd6-5905-a97b-5db52282b501"},"site":{"siteMetadata":{"title":"YoungGyu Blog","siteUrl":"http://answer.netlify.app","comment":{"disqusShortName":"Your Disqus-short-name here"}}}},"pageContext":{"slug":"/2019-12-08-CustomRoute/","previous":{"fields":{"slug":"/2019-12-01-State_Library_Basics/"},"frontmatter":{"title":"상태관리 라이브러리, Context API 기본 이해하기","tag":["Posts"],"layout":null}},"next":{"fields":{"slug":"/2019-12-15-algorithm/"},"frontmatter":{"title":"알고리즘 공부 어떻게 해야할까?","tag":["Posts"],"layout":null}}}},"staticQueryHashes":["3668704128"]}